"use strict";const slideWrapper=document.querySelector('[data-slide="wrapper"]'),slideList=document.querySelector('[data-slide="list"]'),navPreviousButton=document.querySelector('[data-slide="nav-previous-button"]'),navNextButton=document.querySelector('[data-slide="nav-next-button"]'),controlsWrapper=document.querySelector('[data-slide="controls-wrapper"]');let slideItems=document.querySelectorAll('[data-slide="item"]'),controlButtons,slideInterval;const state={startingPoint:0,savedPosition:0,currentPoint:0,movement:0,currentSlideIndex:0,autoPlay:!0,timeInterval:0};function translateSlide({position:e}){state.savedPosition=e,slideList.style.transform=`translateX(${e}px)`}function getCenterPosition({index:e}){var t=slideItems[e].clientWidth;return(document.body.clientWidth-t)/2-e*t}function setVisibleSlide({index:e,animate:t}){var n=getCenterPosition({index:e=0!==e&&e!==slideItems.length-1?e:state.currentSlideIndex});state.currentSlideIndex=e,slideList.style.transition=!0===t?"transform .5s":"none",activeControlButton({index:e}),translateSlide({position:n})}function nextSlide(){setVisibleSlide({index:state.currentSlideIndex+1,animate:!0})}function previousSlide(){setVisibleSlide({index:state.currentSlideIndex-1,animate:!0})}function createControlButtons(){slideItems.forEach(function(){var e=document.createElement("button");e.classList.add("slide-control-button"),e.classList.add("fas"),e.classList.add("fa-circle"),e.dataset.slide="control-button",controlsWrapper.append(e)})}function activeControlButton({index:e}){e=slideItems[e],e=Number(e.dataset.index),e=controlButtons[e];controlButtons.forEach(function(e){e.classList.remove("active")}),e&&e.classList.add("active")}function createSlideClones(){var e=slideItems[0].cloneNode(!0),t=(e.classList.add("slide-cloned"),e.dataset.index=slideItems.length,slideItems[1].cloneNode(!0)),n=(t.classList.add("slide-cloned"),t.dataset.index=slideItems.length+1,slideItems[slideItems.length-1].cloneNode(!0)),i=(n.classList.add("slide-cloned"),n.dataset.index=-1,slideItems[slideItems.length-2].cloneNode(!0));i.classList.add("slide-cloned"),i.dataset.index=-2,slideList.append(e),slideList.append(t),slideList.prepend(n),slideList.prepend(i),slideItems=document.querySelectorAll('[data-slide="item"]')}function onMouseDown(e,t){var n=e.currentTarget;state.startingPoint=e.clientX,state.currentPoint=e.clientX-state.savedPosition,state.currentSlideIndex=t,slideList.style.transition="none",n.addEventListener("mousemove",onMouseMove)}function onMouseMove(e){state.movement=e.clientX-state.startingPoint,translateSlide({position:e.clientX-state.currentPoint})}function onMouseUp(e){var t=e.type.includes("touch")?50:150;state.movement<-t?nextSlide():state.movement>t?previousSlide():setVisibleSlide({index:state.currentSlideIndex,animate:!0}),state.movement=0,e.currentTarget.removeEventListener("mousemove",onMouseMove)}function onTouchStart(e,t){e.clientX=e.touches[0].clientX,onMouseDown(e,t),e.currentTarget.addEventListener("touchmove",onTouchMove)}function onTouchMove(e){e.clientX=e.touches[0].clientX,onMouseMove(e)}function onTouchEnd(e){onMouseUp(e),e.currentTarget.removeEventListener("touchmove",onTouchMove)}function onControlButtonClick(e){setVisibleSlide({index:e+2,animate:!0})}function onSlideListTransitionEnd(){var e=slideItems[state.currentSlideIndex];e.classList.contains("slide-cloned")&&0<Number(e.dataset.index)&&setVisibleSlide({index:2,animate:!1}),e.classList.contains("slide-cloned")&&Number(e.dataset.index)<0&&setVisibleSlide({index:slideItems.length-3,animate:!1})}function setAutoPlay(){state.autoPlay&&(slideInterval=setInterval(function(){setVisibleSlide({index:state.currentSlideIndex+1,animate:!0})},state.timeInterval))}function setListeners(){(controlButtons=document.querySelectorAll('[data-slide="control-button"]')).forEach(function(e,t){e.addEventListener("click",function(e){onControlButtonClick(t)})}),slideItems.forEach(function(e,t){e.addEventListener("dragstart",function(e){e.preventDefault()}),e.addEventListener("mousedown",function(e){onMouseDown(e,t)}),e.addEventListener("mouseup",onMouseUp),e.addEventListener("touchstart",function(e){onTouchStart(e,t)}),e.addEventListener("touchend",onTouchEnd)}),navNextButton.addEventListener("click",nextSlide),navPreviousButton.addEventListener("click",previousSlide),slideList.addEventListener("transitionend",onSlideListTransitionEnd),slideWrapper.addEventListener("mouseenter",function(){clearInterval(slideInterval)}),slideWrapper.addEventListener("mouseleave",function(){setAutoPlay()});let e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){setVisibleSlide({index:state.currentSlideIndex,animate:!0})},1e3)})}function initSlider({startAtIndex:e=0,autoPlay:t=!0,timeInterval:n=3e3}){state.autoPlay=t,state.timeInterval=n,createControlButtons(),createSlideClones(),setListeners(),setVisibleSlide({index:e+2,animate:!0}),setAutoPlay()}